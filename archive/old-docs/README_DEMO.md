# üöÄ Demo CI/CD Memory Leak Detection

–ë—ã—Å—Ç—Ä–∞—è –¥–µ–º–æ-—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ –≤ CI/CD.

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (30 —Å–µ–∫—É–Ω–¥)

```bash
# –ó–∞–ø—É—Å–∫ –¥–µ–º–æ –ª–æ–∫–∞–ª—å–Ω–æ
python test_demo_local.py

# –ò–ª–∏ —á–µ—Ä–µ–∑ GitHub Actions
git push origin main  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è demo-ci.yml
```

## üéØ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –¥–µ–º–æ

1. **–°–±–æ—Ä–∫–∞ (15 —Å–µ–∫)**: –°–æ–±–∏—Ä–∞–µ—Ç –¥–≤–∞ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
   - `app-with-leak` - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –° —É—Ç–µ—á–∫–æ–π –ø–∞–º—è—Ç–∏  
   - `app-without-leak` - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ë–ï–ó —É—Ç–µ—á–∫–∏

2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (30 —Å–µ–∫)**: –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã –Ω–∞ —É—Ç–µ—á–∫–∏
   - –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏
   - –ß–µ—Ç–∫–∏–π –≤–µ—Ä–¥–∏–∫—Ç: "LEAK DETECTED" vs "HEALTHY APP"

3. **–û—Ç—á–µ—Ç—ã**: –ö—Ä–∞—Å–∏–≤—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –∏ Allure –æ—Ç—á–µ—Ç—ã

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

```
üî¥ App WITH leak: LEAK DETECTED (memory +45MB)
üü¢ App WITHOUT leak: HEALTHY APP (memory stable)
```

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **CI/CD**: GitHub Actions (1-2 –º–∏–Ω—É—Ç—ã –æ–±—â–µ–µ –≤—Ä–µ–º—è)
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker + Docker Compose
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: pytest + allure-pytest + pytest-timeout
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: EnhancedMemoryMonitor —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π
- **–û—Ç—á–µ—Ç—ã**: Allure + matplotlib –≥—Ä–∞—Ñ–∏–∫–∏

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
tests/
‚îú‚îÄ‚îÄ test_demo.py          # 30-—Å–µ–∫—É–Ω–¥–Ω—ã–µ –¥–µ–º–æ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ conftest.py           # Docker fixtures
‚îî‚îÄ‚îÄ utils/
    ‚îú‚îÄ‚îÄ enhanced_monitor.py   # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏
    ‚îú‚îÄ‚îÄ load_generator.py     # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∞–≥—Ä—É–∑–∫–∏  
    ‚îî‚îÄ‚îÄ report_builder.py     # –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤

.github/workflows/
‚îú‚îÄ‚îÄ demo-ci.yml           # –ë—ã—Å—Ç—Ä—ã–π –¥–µ–º–æ CI (1-2 –º–∏–Ω)
‚îî‚îÄ‚îÄ memory-leak-ci.yml    # –ü–æ–ª–Ω—ã–π CI (10+ –º–∏–Ω)
```

## üöÄ –†–µ–∂–∏–º—ã –∑–∞–ø—É—Å–∫–∞

- **Demo** (30 —Å–µ–∫): `test_demo.py` - –¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π
- **Quick** (2 –º–∏–Ω): –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã —Å –±–∞–∑–æ–≤–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π
- **Full** (10+ –º–∏–Ω): –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –≥–ª—É–±–æ–∫–∏–º –∞–Ω–∞–ª–∏–∑–æ–º

## üêõ –û—Ç–ª–∞–¥–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker ps
docker logs app-with-leak
docker logs app-without-leak

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ
docker compose down
docker compose up -d app-with-leak app-without-leak

# –¢–µ—Å—Ç—ã –≤—Ä—É—á–Ω—É—é
python -m pytest tests/test_demo.py -v
```

–°–æ–∑–¥–∞–Ω–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ CI/CD —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ–º —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏! üéâ