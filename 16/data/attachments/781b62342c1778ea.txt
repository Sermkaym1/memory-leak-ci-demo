
🔍 Проверка Docker сервисов...
✅ app-with-leak уже работает
✅ app-without-leak уже работает

🎯 УМНАЯ ПРОВЕРКА готовности сервисов (без лишних ожиданий):
🔍 Проверяю готовность App WITH leak на http://localhost:5000/health
✅ App WITH leak готов за 0.0 сек
🔍 Проверяю готовность App WITHOUT leak на http://localhost:5001/health
✅ App WITHOUT leak готов за 0.0 сек
🚀 ВСЕ СЕРВИСЫ ГОТОВЫ! Запускаем тесты...

🔴 Используем контейнер app-with-leak (С УТЕЧКОЙ)
🔍 Проверяю готовность App WITH leak на http://localhost:5000/health
✅ App WITH leak готов за 0.0 сек
✅ EnhancedMemoryMonitor для app-with-leak
🚀 Запуск генератора нагрузки:
   URL: http://localhost:5000
   RPS: 10
   Длительность: 30 сек (0.5 мин)
   Endpoints: ['/api/stress', '/api/cache']
🎯 DEMO [  3.4%] ⏱️ 1с/30с 📈 RSS:   28.3 MB
🎯 DEMO [ 23.4%] ⏱️ 7с/30с 📈 RSS:   33.7 MB
🎯 DEMO [ 43.4%] ⏱️ 13с/30с 📈 RSS:   34.1 MB
🎯 DEMO [ 63.4%] ⏱️ 19с/30с 📈 RSS:   36.6 MB
🎯 DEMO [ 83.5%] ⏱️ 25с/30с 📈 RSS:   37.0 MB
🛑 Остановка генератора нагрузки...
✅ Генератор нагрузки остановлен
📊 График сохранен: tests/allure-results/demo_memory_leak_30sec.png

🎯 DEMO RESULTS:
📊 Memory Growth: +10.1 MB
🏁 Verdict: 🚨 КРИТИЧЕСКАЯ УТЕЧКА ПАМЯТИ! ⚠️
============================================================
✅ Тест с утечкой завершен
