# üîç Memory Leak CI Demo Project# üîç Memory Leak CI Demo Project



**GitHub Actions —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏** —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –∏ –≤–µ–±-–¥–∞—à–±–æ—Ä–¥–æ–º.**–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è CI/CD —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏** —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –∏ –≤–µ–±-–¥–∞—à–±–æ—Ä–¥–æ–º.



## üìñ –û–ø–∏—Å–∞–Ω–∏–µ## üìñ –û–ø–∏—Å–∞–Ω–∏–µ



–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç:–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç:

- ‚úÖ **–î–≤–∞ Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:** —Å —É—Ç–µ—á–∫–∞–º–∏ –ø–∞–º—è—Ç–∏ –∏ –±–µ–∑ (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏)- ‚úÖ **–î–≤–∞ Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:** —Å —É—Ç–µ—á–∫–∞–º–∏ –ø–∞–º—è—Ç–∏ –∏ –±–µ–∑ (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏)

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** —Å Pytest + Allure –æ—Ç—á–µ—Ç–∞–º–∏- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** —Å Pytest + Allure –æ—Ç—á–µ—Ç–∞–º–∏

- ‚úÖ **GitHub Actions CI/CD** - –ø–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è- ‚úÖ **GitLab CI/CD + GitHub Actions** - –ø–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

- ‚úÖ **Live Dashboard** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ—Å—Ç–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏- ‚úÖ **Live Dashboard** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ—Å—Ç–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** - Slack, Teams, Email –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ —É—Ç–µ—á–µ–∫- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** - Slack, Teams, Email –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ —É—Ç–µ—á–µ–∫

- ‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –ø–∞–º—è—Ç—å, CPU, —Å–µ—Ç—å, —Ñ–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã- ‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –ø–∞–º—è—Ç—å, CPU, —Å–µ—Ç—å, —Ñ–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã

- ‚úÖ **Prometheus + Grafana** –¥–∞—à–±–æ—Ä–¥—ã –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏- ‚úÖ **Prometheus + Grafana** –¥–∞—à–±–æ—Ä–¥—ã –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤** –Ω–∞ GitHub Pages- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤** –Ω–∞ GitHub/GitLab Pages



## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç



### üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)### üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)



```bash```bash

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

bash scripts/install.shbash scripts/install.sh

``````



### üìã –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞### üìã –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞



<details><details>

<summary>–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ —Ä—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–∫–ª–∏–∫–Ω–∏—Ç–µ —á—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å)</summary><summary>–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ —Ä—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–∫–ª–∏–∫–Ω–∏—Ç–µ —á—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å)</summary>



```bash```bash

# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker

curl -fsSL https://get.docker.com -o get-docker.shcurl -fsSL https://get.docker.com -o get-docker.sh

sudo sh get-docker.shsudo sh get-docker.sh

sudo usermod -aG docker $USERsudo usermod -aG docker $USER

# –ü–µ—Ä–µ–ª–æ–≥–∏–Ω—å—Ç–µ—Å—å –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤# –ü–µ—Ä–µ–ª–æ–≥–∏–Ω—å—Ç–µ—Å—å –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤



# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker Compose# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker Compose

sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-composesudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose

sudo chmod +x /usr/local/bin/docker-composesudo chmod +x /usr/local/bin/docker-compose



# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.8+# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.8+

sudo apt updatesudo apt update

sudo apt install -y python3 python3-pip python3-venvsudo apt install -y python3 python3-pip python3-venv



# 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Java (–¥–ª—è Allure)# 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Java (–¥–ª—è Allure)

sudo apt install -y openjdk-11-jdksudo apt install -y openjdk-11-jdk



# 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Allure# 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Allure

wget https://github.com/allure-framework/allure2/releases/download/2.24.1/allure-2.24.1.tgzwget https://github.com/allure-framework/allure2/releases/download/2.24.1/allure-2.24.1.tgz

sudo tar -zxvf allure-2.24.1.tgz -C /opt/sudo tar -zxvf allure-2.24.1.tgz -C /opt/

sudo ln -s /opt/allure-2.24.1/bin/allure /usr/local/bin/alluresudo ln -s /opt/allure-2.24.1/bin/allure /usr/bin/allure

```

# 6. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

pip3 install -r requirements.txt</details>

```

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç

</details>

```bash

### ‚ö° –ó–∞–ø—É—Å–∫git clone https://github.com/Sermkaym1/memory-leak-ci-demo.git

cd memory-leak-ci-demo

```bash```

# –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫ —Å –ø–æ–º–æ—â—å—é Makefile

make run-tests### üéØ –í–∞—Ä–∏–∞–Ω—Ç—ã –∑–∞–ø—É—Å–∫–∞



# –ò–ª–∏ –ø–æ—à–∞–≥–æ–≤–æ:#### **‚ö° –ë—ã—Å—Ç—Ä–æ–µ –¥–µ–º–æ (5 –º–∏–Ω—É—Ç):**

docker-compose up -d          # –ó–∞–ø—É—Å–∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã```bash

make test-quick              # –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã (5 –º–∏–Ω)make quick-demo

make test-full               # –ü–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã (15 –º–∏–Ω)```

```

#### **üî• –ü–æ–ª–Ω–æ–µ –¥–µ–º–æ (15-20 –º–∏–Ω—É—Ç):**

## üß™ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ```bash

make full-demo

### üìä **–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**```



```bash#### **üìã –ü–æ—à–∞–≥–æ–≤—ã–π –∑–∞–ø—É—Å–∫:**

# –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (5 –º–∏–Ω—É—Ç)```bash

make test-quick# 1. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

make build && make up

# –ü–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –∞–Ω–∞–ª–∏–∑–æ–º (15 –º–∏–Ω—É—Ç)

make test-full# 2. –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã (5 –º–∏–Ω) —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å—é

make test-quick

# –ñ–∏–≤–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å –≤–µ–±-–¥–∞—à–±–æ—Ä–¥–æ–º

make live-monitor# 3. –ü–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã (10-15 –º–∏–Ω)

# –û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:8080make test

```

# 4. –û—Ç–∫—Ä—ã—Ç—å Allure –æ—Ç—á–µ—Ç

### üîç **–ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**make report



```bash# 5. Live Dashboard (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä Allure –æ—Ç—á–µ—Ç–∞python dashboard/live_dashboard.py

make allure-report# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5555

# –û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:9999```



# Prometheus –º–µ—Ç—Ä–∏–∫–∏: http://localhost:9090### üåê –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

# Grafana –¥–∞—à–±–æ—Ä–¥—ã: http://localhost:3000 (admin/admin)

```–ü–æ—Å–ª–µ `make up`:

- **üî¥ App WITH leak**: http://localhost:5000/health

## ü§ñ GitHub Actions CI/CD- **üü¢ App WITHOUT leak**: http://localhost:5001/health  

- **üìä Prometheus**: http://localhost:9090

–ü—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –≥–æ—Ç–æ–≤—ã–π workflow —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏:- **üìà Grafana**: http://localhost:3000 (admin/admin)

- **üì± Live Dashboard**: http://localhost:5555 (–∑–∞–ø—É—Å—Ç–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ)

- ‚úÖ **–ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã** –Ω–∞ –∫–∞–∂–¥—ã–π push/PR

- ‚úÖ **–ü–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã** –Ω–∞ main –≤–µ—Ç–∫—É## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã** Allure + JUnit

- ‚úÖ **–ü—É–±–ª–∏–∫–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤** –Ω–∞ GitHub Pages```

- ‚úÖ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –≤ Slack/Teams/Emailmemory-leak-ci-demo/

‚îú‚îÄ‚îÄ apps/                           # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ê–∫—Ç–∏–≤–∞—Ü–∏—è CI/CD:‚îÇ   ‚îú‚îÄ‚îÄ app_with_leak/             # –° —É—Ç–µ—á–∫–∞–º–∏ –ø–∞–º—è—Ç–∏

‚îÇ   ‚îî‚îÄ‚îÄ app_without_leak/          # –ë–µ–∑ —É—Ç–µ—á–µ–∫

```bash‚îú‚îÄ‚îÄ tests/                         # –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã

# 1. –§–∞–π–ª—ã —É–∂–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏‚îÇ   ‚îú‚îÄ‚îÄ test_memory_leak.py       # –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã (10-15 –º–∏–Ω)

# 2. –í GitHub –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):‚îÇ   ‚îî‚îÄ‚îÄ utils/                    # –£—Ç–∏–ª–∏—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

#    Settings > Pages > Source: GitHub Actions‚îú‚îÄ‚îÄ monitoring/                    # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

‚îÇ   ‚îú‚îÄ‚îÄ prometheus.yml

# 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):‚îÇ   ‚îî‚îÄ‚îÄ grafana/                  # –î–∞—à–±–æ—Ä–¥—ã

#    Settings > Secrets and variables > Actions:‚îú‚îÄ‚îÄ ci/                           # CI/CD

#    SLACK_WEBHOOK_URL=https://hooks.slack.com/...‚îÇ   ‚îú‚îÄ‚îÄ teamcity/                 # TeamCity –∫–æ–Ω—Ñ–∏–≥

#    EMAIL_USERNAME=your@gmail.com‚îÇ   ‚îî‚îÄ‚îÄ scripts/                  # –°–∫—Ä–∏–ø—Ç—ã

#    EMAIL_PASSWORD=your-app-password‚îî‚îÄ‚îÄ docs/                         # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#    EMAIL_TO=alerts@yourcompany.com```

```

## üß™ –¢–∏–ø—ã —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ (—Å –ø—Ä–∏–º–µ—Ä–∞–º–∏)

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç—á–µ—Ç—ã

### 1. –ù–µ–∑–∞–∫—Ä—ã—Ç—ã–µ DB —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ CI/CD –¥–æ—Å—Ç—É–ø–Ω—ã:```python

# ‚ùå –ü–ª–æ—Ö–æ - —É—Ç–µ—á–∫–∞

```bashconn = psycopg2.connect(...)

# GitHub: Actions > Workflows# —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è

# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

# ‚úÖ –•–æ—Ä–æ—à–æ

# GitHub Pages: https://yourusername.github.io/memory-leak-ci-demowith conn_pool.getconn() as conn:

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ Allure –æ—Ç—á–µ—Ç—ã    # –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

    pass

# –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –≤ GitHub Actions:# –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –ø—É–ª

# - allure-results-quick: –±—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã```

# - allure-results-full: –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã  

# - performance-results: –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã### 2. –ö–µ—à –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

# - security-reports: —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏```python

```# ‚ùå –ü–ª–æ—Ö–æ - —É—Ç–µ—á–∫–∞

cache = {}

## üß† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞cache[key] = data  # —Ä–∞—Å—Ç–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ



### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤# ‚úÖ –•–æ—Ä–æ—à–æ

from cachetools import TTLCache

```cache = TTLCache(maxsize=100, ttl=300)

‚îú‚îÄ‚îÄ apps/                          # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è```

‚îÇ   ‚îú‚îÄ‚îÄ app_with_leak/            # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –° —É—Ç–µ—á–∫–∞–º–∏

‚îÇ   ‚îî‚îÄ‚îÄ app_without_leak/         # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ë–ï–ó —É—Ç–µ—á–µ–∫### 3. –§–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã

‚îú‚îÄ‚îÄ tests/                         # –¢–µ—Å—Ç—ã –∏ —É—Ç–∏–ª–∏—Ç—ã```python

‚îÇ   ‚îú‚îÄ‚îÄ test_quick_demo.py        # –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã (5 –º–∏–Ω)# ‚ùå –ü–ª–æ—Ö–æ - —É—Ç–µ—á–∫–∞

‚îÇ   ‚îú‚îÄ‚îÄ test_memory_leak.py       # –ü–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã (15 –º–∏–Ω)f = open('file.txt', 'w')

‚îÇ   ‚îî‚îÄ‚îÄ utils/                    # –£—Ç–∏–ª–∏—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞f.write(data)

‚îú‚îÄ‚îÄ monitoring/                    # Prometheus + Grafana# f.close() - –∑–∞–±—ã–ª–∏!

‚îú‚îÄ‚îÄ dashboard/                     # Live –≤–µ–±-–¥–∞—à–±–æ—Ä–¥

‚îú‚îÄ‚îÄ .github/workflows/             # GitHub Actions# ‚úÖ –•–æ—Ä–æ—à–æ

‚îú‚îÄ‚îÄ docs/                         # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—èwith open('file.txt', 'w') as f:

‚îî‚îÄ‚îÄ scripts/                      # –£—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã    f.write(data)

```# –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä–æ–µ—Ç—Å—è

```

### üîç –î–≤–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üìà –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–µ—Å—Ç—ã

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –° —É—Ç–µ—á–∫–∞–º–∏** (`app_with_leak`):

- üî¥ PostgreSQL: –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è```python

- üî¥ Redis: –Ω–µ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç memory pool# tests/test_memory_leak.py

- üî¥ –§–∞–π–ª—ã: –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã

- üî¥ –ü–∞–º—è—Ç—å: –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ cache@pytest.mark.allure.severity('critical')

@pytest.mark.parametrize('duration', [600, 900])  # 10 –∏ 15 –º–∏–Ω—É—Ç

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ë–ï–ó —É—Ç–µ—á–µ–∫** (`app_without_leak`):def test_detect_memory_leak(app_container, duration):

- ‚úÖ PostgreSQL: –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏    """

- ‚úÖ Redis: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø–∞–º—è—Ç–∏      1. –ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

- ‚úÖ –§–∞–π–ª—ã: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ    2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É (HTTP –∑–∞–ø—Ä–æ—Å—ã)

- ‚úÖ –ü–∞–º—è—Ç—å: –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ cache    3. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç –ø–∞–º—è—Ç—å –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥

    4. –°—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ–∏–∫–∏ –≤ Allure

## ‚öôÔ∏è Makefile –∫–æ–º–∞–Ω–¥—ã    5. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –µ—Å—Ç—å –ª–∏ —É—Ç–µ—á–∫–∞

    """

```bash    pass

# –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã```

make help                 # –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã

make install             # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —É—Ç–µ—á–∫–∏:

make build               # –°–æ–±—Ä–∞—Ç—å Docker –æ–±—Ä–∞–∑—ã

make up                  # –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É- **–†–æ—Å—Ç –ø–∞–º—è—Ç–∏** > 50 MB –∑–∞ —Ç–µ—Å—Ç

make down                # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ- **–¢—Ä–µ–Ω–¥**: –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞—Å—Ç—É—â–∏–π (–Ω–µ —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è)

- **–°–∫–æ—Ä–æ—Å—Ç—å —Ä–æ—Å—Ç–∞** > 5 MB/–º–∏–Ω

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

make test-quick          # –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã (5 –º–∏–Ω)## üöÄ CI/CD –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

make test-full           # –ü–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã (15 –º–∏–Ω)

make test-performance    # –ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã### ü¶ä **GitLab CI/CD**

make run-tests           # –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –≥–æ—Ç–æ–≤—ã–π `.gitlab-ci.yml` —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏:

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

make live-monitor        # –ñ–∏–≤–æ–π –≤–µ–±-–¥–∞—à–±–æ—Ä–¥**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**

make allure-report       # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞- ‚úÖ **–ü—Ä–∏ push/MR** ‚Üí –±—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã (5 –º–∏–Ω)

make grafana-dashboard   # –û—Ç–∫—Ä—ã—Ç—å Grafana- ‚úÖ **–ü—Ä–∏ push –≤ main** ‚Üí –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã (15 –º–∏–Ω)

- ‚úÖ **–ö–∞–∂–¥—É—é –Ω–æ—á—å** ‚Üí –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

# CI/CD –ø—Ä–æ–≤–µ—Ä–∫–∏- ‚úÖ **–ü—É–±–ª–∏–∫–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤** –Ω–∞ GitLab Pages

make lint                # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞- ‚úÖ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –≤ Slack/Teams/Email –ø—Ä–∏ —É—Ç–µ—á–∫–∞—Ö

make security-scan       # –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

make validate-ci         # –ü—Ä–æ–≤–µ—Ä–∫–∞ workflow```bash

```# 1. –î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª—ã –≤ GitLab —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

git add .gitlab-ci.yml

## üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏git commit -m "Add GitLab CI/CD pipeline"

git push

### üéØ Live Dashboard

# 2. –í GitLab –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:#    Settings > CI/CD > Variables:

#    SLACK_WEBHOOK_URL = https://hooks.slack.com/...

```bash#    EMAIL_TO = team@company.com

make live-monitor

# –û—Ç–∫—Ä—ã—Ç—å: http://localhost:8080# 3. –í–∫–ª—é—á–∏—Ç–µ GitLab Pages:

#    Settings > Pages > Enable

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏# 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ:

‚úÖ –ì—Ä–∞—Ñ–∏–∫–∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏#    CI/CD > Schedules > New schedule (–∫–∞–∂–¥—É—é –Ω–æ—á—å)

‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º```

‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞–º–∏ (—Å—Ç–∞—Ä—Ç/—Å—Ç–æ–ø)

```### üêô **GitHub Actions**



### üì± –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ GitHub Actions:



–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:```bash

- **Slack** - webhook –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è# 1. –§–∞–π–ª —É–∂–µ –≥–æ—Ç–æ–≤: .github/workflows/memory-leak-ci.yml

- **Microsoft Teams** - webhook —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è  # 2. –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ Settings > Secrets:

- **Email** - SMTP –æ—Ç–ø—Ä–∞–≤–∫–∞ (Gmail, –¥—Ä.)#    SLACK_WEBHOOK_URL

#    EMAIL_USERNAME, EMAIL_PASSWORD, EMAIL_TO

### üîç –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

# 3. Push –∑–∞–ø—É—Å—Ç–∏—Ç workflow –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç:git push

- **–ü–∞–º—è—Ç—å**: RSS, VMS, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ swap```

- **CPU**: –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –∏ cores

- **–°–µ—Ç—å**: TCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, —Å–æ–∫–µ—Ç—ã### üß™ **–ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å CI/CD**

- **–§–∞–π–ª—ã**: –æ—Ç–∫—Ä—ã—Ç—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã

- **–ü–∞—Ç—Ç–µ—Ä–Ω—ã —É—Ç–µ—á–µ–∫**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µüìñ **–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ:** [HOW_TO_TEST_CICD.md](HOW_TO_TEST_CICD.md)



## üêû –û—Ç–ª–∞–¥–∫–∞**–ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç (30 —Å–µ–∫—É–Ω–¥):**



### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã```bash

# 1. –°–¥–µ–ª–∞–π—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ

```bashecho "<!-- CI/CD test: $(date) -->" >> README.MD

# –ü—Ä–æ–±–ª–µ–º–∞: Docker –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

sudo systemctl start docker# 2. Commit –∏ push

sudo usermod -aG docker $USERgit add README.MD

git commit -m "test: –ø—Ä–æ–≤–µ—Ä–∫–∞ CI/CD pipeline"

# –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã  git push

make down && make up

# 3. –ù–∞–±–ª—é–¥–∞–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã:

# –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –ø—Ä–∞–≤ –Ω–∞ Python# GitLab: CI/CD > Pipelines

python3 -m venv venv# GitHub: Actions tab

source venv/bin/activate

pip install -r requirements.txt# 4. –û—Ç—á–µ—Ç—ã –±—É–¥—É—Ç –Ω–∞:

# GitLab Pages: https://yourname.gitlab.io/memory-leak-ci-demo

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è:# GitHub Pages: https://yourname.github.io/memory-leak-ci-demo

make status                # –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤```

docker-compose ps         # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

make logs                 # –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**

```- ‚ö° –ó–∞–ø—É—Å—Ç—è—Ç—Å—è –±—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã (5 –º–∏–Ω)

- üìä –°–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è Allure –æ—Ç—á–µ—Ç —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ CI/CD- üìß –ü—Ä–∏–¥—É—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Slack/Teams/Email (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã)

- üöÄ –û—Ç—á–µ—Ç –æ–ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –Ω–∞ Pages

```bash

# –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ workflow### üìä **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ—Ç—á–µ—Ç—ã CI/CD:**

yamllint .github/workflows/memory-leak-ci.yml- üî¥ **FAILED —Ç–µ—Å—Ç—ã** ‚Üí –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏

- üü¢ **PASSED —Ç–µ—Å—Ç—ã** ‚Üí —É—Ç–µ—á–µ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ—Å—Ç–æ–≤- üìà **Graf–∏–∫–∏ —Ä–æ—Å—Ç–∞ –ø–∞–º—è—Ç–∏** –≤ Allure –æ—Ç—á–µ—Ç–∞—Ö

make test-quick- üìß **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –≤ Slack/Teams/Email



# GitHub: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ Actions –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ## üéØ Makefile –∫–æ–º–∞–Ω–¥—ã

```

```bash

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—èmake help          # –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã

make quick-demo    # –ë—ã—Å—Ç—Ä–æ–µ –¥–µ–º–æ (5 –º–∏–Ω)

- [docs/WHY_POSTGRES_REDIS.md](docs/WHY_POSTGRES_REDIS.md) - –ü–æ—á–µ–º—É PostgreSQL –∏ Redis?make full-demo     # –ü–æ–ª–Ω–æ–µ –¥–µ–º–æ (15-20 –º–∏–Ω)

- [.github/workflows/memory-leak-ci.yml](.github/workflows/memory-leak-ci.yml) - GitHub Actions workflowmake build         # –°–æ–±—Ä–∞—Ç—å Docker –æ–±—Ä–∞–∑—ã

make up            # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ãmake down          # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã

make test-quick    # –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã (5 –º–∏–Ω) —Å –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å—é

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ –≤—ã —É–≤–∏–¥–∏—Ç–µ:make test          # –ü–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã (10-15 –º–∏–Ω)

make report        # –û—Ç–∫—Ä—ã—Ç—å Allure –æ—Ç—á–µ—Ç

1. **üìä –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã** –Ω–∞ GitHub Pagesmake clean         # –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ

2. **üìà –ì—Ä–∞—Ñ–∏–∫–∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è** –ø–∞–º—è—Ç–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏  make logs          # –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏

3. **üîç –î–µ—Ç–∞–ª—å–Ω—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É** –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —É—Ç–µ—á–µ–∫```

4. **‚ö° –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ** –ø—Ä–æ–±–ª–µ–º –≤ CI/CD

5. **üì± –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏## ÔøΩ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏



---### üì± **Live Dashboard**

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ç–µ—Å—Ç–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:

**üí° –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ `make run-tests` –∏ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –≤ GitHub Actions.
```bash
# –ó–∞–ø—É—Å–∫ –¥–∞—à–±–æ—Ä–¥–∞
python dashboard/live_dashboard.py

# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5555
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- üìä –ì—Ä–∞—Ñ–∏–∫–∏ –ø–∞–º—è—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚ö° –ó–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
- üìà –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- üìã –ò—Å—Ç–æ—Ä–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- üîÑ WebSocket –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥

### üìß **–°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ —É—Ç–µ—á–µ–∫:

```bash
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
export SLACK_WEBHOOK_URL="https://hooks.slack.com/services/..."
export TEAMS_WEBHOOK_URL="https://outlook.office.com/webhook/..."
export EMAIL_TO="team@company.com"

# –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–æ–≤
```

### üìä **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —É—Ç–µ—á–µ–∫:

```python
from tests.utils.enhanced_monitor import EnhancedMemoryMonitor
from tests.utils.notifications import NotificationManager

# –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏: –ø–∞–º—è—Ç—å + CPU + —Å–µ—Ç—å + —Ñ–∞–π–ª—ã
monitor = EnhancedMemoryMonitor(container)
metrics = monitor.get_detailed_metrics()

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¢–ò–ü–û–í —É—Ç–µ—á–µ–∫
leak_analysis = monitor.detect_memory_leak_patterns()
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {"leak_types": ["memory_leak", "connection_leak"], "severity": "high"}

# –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–æ –≤—Å–µ –∫–∞–Ω–∞–ª—ã
notifier = NotificationManager()
notifier.send_all_notifications(test_results)
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### üìñ **–û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- [WHY_POSTGRES_REDIS.md](docs/WHY_POSTGRES_REDIS.md) - **–ó–ê–ß–ï–ú –Ω—É–∂–Ω—ã PostgreSQL –∏ Redis** ü§î
- [ALL_IMPROVEMENTS.md](ALL_IMPROVEMENTS.md) - **–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —É–ª—É—á—à–µ–Ω–∏–π** üöÄ
- [IMPROVEMENTS.md](IMPROVEMENTS.md) - –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏–π
- [MEMORY_LEAK_PATTERNS.md](docs/MEMORY_LEAK_PATTERNS.md) - –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —É—Ç–µ—á–µ–∫

### üõ†Ô∏è **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
- [.gitlab-ci.yml](.gitlab-ci.yml) - GitLab CI/CD pipeline
- [.github/workflows/memory-leak-ci.yml](.github/workflows/memory-leak-ci.yml) - GitHub Actions
- [dashboard/live_dashboard.py](dashboard/live_dashboard.py) - Live –≤–µ–±-–¥–∞—à–±–æ—Ä–¥
- [tests/utils/enhanced_monitor.py](tests/utils/enhanced_monitor.py) - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [tests/utils/notifications.py](tests/utils/notifications.py) - –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### üß™ **–î–µ–º–æ –±–µ–∑ Docker:**
```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏–π –±–µ–∑ Docker
python test_improvements.py
```

## üéØ **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

### ÔøΩ **1. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Ç–µ—á–∫–∏ DB —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π**
```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–π–¥–µ—Ç –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫ PostgreSQL
make test-quick

# –†–µ–∑—É–ª—å—Ç–∞—Ç: 
# üî¥ –£–¢–ï–ß–ö–ê –û–ë–ù–ê–†–£–ñ–ï–ù–ê: connection_leak
# üìä –†–æ—Å—Ç –ø–∞–º—è—Ç–∏: +87.3 MB
# üìà TCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è: 5 ‚Üí 23 (+18)
```

### üîç **2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**
```bash
# –ó–∞–ø—É—Å–∫ live dashboard
python dashboard/live_dashboard.py

# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5555
# –£–≤–∏–¥–∏—Ç–µ: –≥—Ä–∞—Ñ–∏–∫–∏ –ø–∞–º—è—Ç–∏, –ø—Ä–æ–≥—Ä–µ—Å—Å —Ç–µ—Å—Ç–æ–≤, –º–µ—Ç—Ä–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```

### üîç **3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
```bash
# –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∫—Ä–∏—Ç–∏—á–Ω–æ–π —É—Ç–µ—á–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–¥—É—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
# üìß Email —Å HTML –æ—Ç—á–µ—Ç–æ–º –∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏
# üí¨ Slack —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –∏ –∫–Ω–æ–ø–∫–æ–π "–û—Ç–∫—Ä—ã—Ç—å –æ—Ç—á–µ—Ç"
# üì± Teams —Å adaptive card
```

### üîç **4. –ê–Ω–∞–ª–∏–∑ —Ç–∏–ø–æ–≤ —É—Ç–µ—á–µ–∫**
```python
# –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ß–¢–û –∏–º–µ–Ω–Ω–æ —Ç–µ—á–µ—Ç:
{
  "leak_types": ["memory_leak", "connection_leak", "file_descriptor_leak"],
  "severity": "critical",
  "memory_growth_mb": 127.5,
  "connection_growth": 18,
  "files_growth": 12
}
```

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "—É–º–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–µ—Ä–≤–∏—Å—ã –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ health endpoints
curl http://localhost:5000/health
curl http://localhost:5001/health

# –ï—Å–ª–∏ –Ω–µ –æ—Ç–≤–µ—á–∞—é—Ç - —É–≤–µ–ª–∏—á—å—Ç–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –≤ conftest.py
```

### –ü—Ä–æ–±–ª–µ–º–∞: "CI/CD –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è"
```bash
# GitLab: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ Pipelines –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
# GitHub: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ Actions tab

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å YAML:
yamllint .gitlab-ci.yml
yamllint .github/workflows/memory-leak-ci.yml
```

### –ü—Ä–æ–±–ª–µ–º–∞: "—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
echo $SLACK_WEBHOOK_URL
echo $EMAIL_TO

# –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ:
python -c "
from tests.utils.notifications import NotificationManager
notifier = NotificationManager()
# –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ
"
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Live Dashboard –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Flask —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω:
netstat -tlnp | grep 5555

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall:
sudo ufw allow 5555

# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:5555
```

